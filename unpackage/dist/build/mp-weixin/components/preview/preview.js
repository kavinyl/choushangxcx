"use strict";var t=require("../../common/vendor.js");const e={name:"imgview",props:{proList:{type:Array,default:[]},index:{type:Number,default:0}},data:()=>({swiperList:[],imgIndex:1,update:!0,current:0,total:0}),methods:{close(){this.current=0,this.$emit("close",!1)},swiperChange(t){this.current=t.detail.current,this.imgIndex=(this.current+this.index)%this.proList.length+1},forceUpdate(){this.update=!1,this.update=!0},getList(){const t=this.proList.slice(this.index),e=this.proList.slice(0,this.index);this.swiperList=t.concat(e),this.current=0,console.log(this.swiperList)},getAmount(){this.total=0,this.proList.forEach((t=>{this.total+=t.leftAmount}))}},watch:{proList:function(t){this.swiperList=t,this.forceUpdate(),this.getAmount()},index:function(t){this.imgIndex=t+1,this.getList(),this.forceUpdate()}}};var i=t._export_sfc(e,[["render",function(e,i,s,r,o,n){return{a:t.f(o.swiperList,((e,i,s)=>({a:e.imgUrl,b:t.t(e.productItemName),c:t.t(Math.floor(e.leftAmount/o.total*1e4)/100),d:i,e:t.o(((...t)=>n.close&&n.close(...t)),i)}))),b:t.t(o.imgIndex),c:t.t(o.swiperList.length),d:o.update,e:t.o(((...t)=>n.swiperChange&&n.swiperChange(...t))),f:o.current}}]]);wx.createComponent(i);
