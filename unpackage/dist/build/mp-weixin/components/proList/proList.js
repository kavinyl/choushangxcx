"use strict";var t=require("../../common/vendor.js");const e={name:"proList",props:{productList:{type:Array,default:[]},totalPage:{type:Number,default:1}},options:{styleIsolation:"shared"},data:()=>({items:["全部","一番赏","手办","盲盒"],styles:[{value:"button",text:"按钮",checked:!0},{value:"text",text:"文字"}],colors:["#FDA804","#4cd964","#dd524d"],current:0,colorIndex:0,activeColor:"#FDA804",styleType:"text",update:!0,status:"more",contentText:{contentdown:"点击展示更多",contentrefresh:"加载中",contentnomore:"没有更多了"},pageNo:1}),onLoad(){},methods:{toPage(e){t.index.navigateTo({url:"/sub-play/pages/play"}),t.index.setStorage({key:"productCode",data:e.productCode})},onClickItem(t){this.current!==t.currentIndex&&(this.current=t.currentIndex)},forceupdate(){this.update=!1,this.update=!0},loadMore(e){var o=this;this.pageNo<this.totalPage?(o.status="loading",o.pageNo++,t.index.request({url:"http://123.60.71.74:20001//mh/product/page",method:"GET",dataType:"JSON",data:{no:o.pageNo,size:10},success:t=>{JSON.parse(t.data).data.list.forEach((function(t){o.productList.push(t)})),o.status="more"}})):o.status="noMore"}},mounted(){1==this.totalPage&&(this.status="noMore")},watch:{productList:function(t,e){this.forceupdate()}}};if(!Array){(t.resolveComponent("uni-segmented-control")+t.resolveComponent("uni-load-more"))()}Math||((()=>"../../uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control.js")+(()=>"../../uni_modules/uni-load-more/components/uni-load-more/uni-load-more.js"))();var o=t._export_sfc(e,[["render",function(e,o,r,a,n,s){return t.e({a:t.o(s.onClickItem),b:t.p({current:n.current,values:n.items,"style-type":n.styleType,"active-color":n.activeColor}),c:0===n.current},0===n.current?{d:t.f(r.productList,((e,o,r)=>({a:e.imgUrl,b:e.flagPreSale,c:t.t(e.productName),d:t.t(e.info),e:t.t(e.price),f:o,g:t.o((t=>s.toPage(e)),o)})))}:{},{e:1===n.current},1===n.current?{f:t.f(r.productList,((e,o,r)=>({a:e.imgUrl,b:e.flagPreSale,c:t.t(e.productName),d:t.t(e.info),e:t.t(e.price),f:o,g:t.o((t=>s.toPage(e)),o),h:"C0000001"==e.class1Code})))}:{},{g:2===n.current},2===n.current?{h:t.f(r.productList,((e,o,r)=>({a:e.imgUrl,b:e.flagPreSale,c:t.t(e.productName),d:t.t(e.info),e:t.t(e.price),f:o,g:t.o((t=>s.toPage(e)),o),h:"C0000002"==e.class1Code})))}:{},{i:3===n.current},3===n.current?{j:t.f(r.productList,((e,o,r)=>({a:e.imgUrl,b:e.flagPreSale,c:t.t(e.productName),d:t.t(e.info),e:t.t(e.price),f:o,g:t.o((t=>s.toPage(e)),o),h:"C0000003"==e.class1Code})))}:{},{k:n.update,l:t.o(s.loadMore),m:t.p({status:n.status,"content-text":n.contentText})})}]]);wx.createComponent(o);
